# ๐ ุชุดุบูู ุชุทุจูู Mosqee ูุน Backend

## ุงููุชุทูุจุงุช
- Node.js v18+
- npm ุฃู yarn

## ุฎุทูุงุช ุงูุชุดุบูู

### 1๏ธโฃ ุชุซุจูุช ุงููุชุทูุจุงุช

#### ููู Frontend (ูู ุงููุฌูุฏ ุงูุฑุฆูุณู)
```bash
npm install
```

#### ููู Backend (ูู ูุฌูุฏ server)
```bash
cd server
npm install
```

### 2๏ธโฃ ุชุดุบูู ุงูุชุทุจูู

#### ุจุทุฑููุฉ ูููุตูุฉ:

**ุงูู Backend** (ูู terminal ุฌุฏูุฏ):
```bash
cd server
npm run dev
# ุฃู
npm start
```
โ ุงูุฎุงุฏู ุณูุนูู ุนูู: `http://localhost:5000`

**ุงูู Frontend** (ูู terminal ุขุฎุฑ):
```bash
npm run dev
```
โ ุงูุชุทุจูู ุณูุนูู ุนูู: `http://localhost:5173`

#### ุฃู ุจุทุฑููุฉ ูุฌูุนุฉ (ุฅุฐุง ุฃุถูุช concurrently):
```bash
npm run dev:all
```

### 3๏ธโฃ ุงูุชุญูู ูู ุงูุงุชุตุงู

- ุงูุชุญ ุงููุชุตูุญ ุนูู: `http://localhost:5173`
- ุงูุจูุงูุงุช ุงูุขู ุณุชูุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุนูู ุงูุฎุงุฏู
- ููููู ุบูู ุงูุตูุญุฉ ููุชุญูุง ูุฌุฏุฏุงู - ุงูุจูุงูุงุช ุณุชุจูู ูุญููุธุฉ โ

## ูููู ุงููุดุฑูุน ุงูุฌุฏูุฏ

```
mosqee/
โโโ src/                    # Frontend code
โ   โโโ context/
โ   โโโ pages/
โ   โโโ components/
โ   โโโ services/
โ   โ   โโโ apiService.ts   # โจ ุฌุฏูุฏ - ููุชูุงุตู ูุน ุงูู backend
โ   โ   โโโ dbService.ts    # ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุญููุฉ (ุงุญุชูุงุทู)
โ   โ   โโโ ...
โ   โโโ ...
โโโ server/                 # โจ ุฌุฏูุฏ - Backend
โ   โโโ index.js           # ุงูุฎุงุฏู ุงูุฑุฆูุณู
โ   โโโ database.js        # ูุงุนุฏุฉ ุงูุจูุงูุงุช SQLite
โ   โโโ data/              # ูุฌูุฏ ุงูุจูุงูุงุช
โ   โ   โโโ mosqee.db      # ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ   โโโ package.json
โ   โโโ ...
โโโ .env                   # ูุชุบูุฑุงุช ุงูุจูุฆุฉ
โโโ package.json
โโโ ...
```

## ูุชุบูุฑุงุช ุงูุจูุฆุฉ (.env)

```env
VITE_API_URL=http://localhost:5000/api
```

ููุฅูุชุงุฌ (Production):
```env
VITE_API_URL=https://your-api-domain.com/api
```

## API Endpoints

### Users
- `POST /api/users/login` - ุชุณุฌูู ุงูุฏุฎูู
- `POST /api/users/register` - ุงูุชุณุฌูู ุงูุฌุฏูุฏ
- `GET /api/users/:id` - ุงูุญุตูู ุนูู ุจูุงูุงุช ุงููุณุชุฎุฏู
- `PUT /api/users/:id` - ุชุญุฏูุซ ุจูุงูุงุช ุงููุณุชุฎุฏู
- `GET /api/users` - ูุงุฆูุฉ ุฌููุน ุงููุณุชุฎุฏููู

### Mosques
- `POST /api/mosques` - ุฅูุดุงุก ูุณุฌุฏ ุฌุฏูุฏ
- `GET /api/mosques` - ูุงุฆูุฉ ุงููุณุงุฌุฏ
- `PUT /api/mosques/:id` - ุชุญุฏูุซ ุจูุงูุงุช ุงููุณุฌุฏ

### Lessons
- `POST /api/lessons` - ุฅุถุงูุฉ ุฏุฑุณ ุฌุฏูุฏ
- `GET /api/lessons` - ูุงุฆูุฉ ุงูุฏุฑูุณ

### Posts
- `POST /api/posts` - ุฅูุดุงุก ููุดูุฑ ุฌุฏูุฏ
- `GET /api/posts` - ูุงุฆูุฉ ุงูููุดูุฑุงุช
- `PUT /api/posts/:id` - ุชุญุฏูุซ ุงูููุดูุฑ

### Prayer Logs
- `POST /api/prayer-logs` - ุญูุธ ุณุฌู ุงูุตูุงุฉ
- `GET /api/prayer-logs/:userId/:date` - ุงูุญุตูู ุนูู ุณุฌู ุงูุตูุงุฉ

### Tasbih Logs
- `POST /api/tasbih-logs` - ุญูุธ ุณุฌู ุงูุชุณุจูุญ
- `GET /api/tasbih-logs/:userId/:date` - ุงูุญุตูู ุนูู ุณุฌู ุงูุชุณุจูุญ
- `GET /api/tasbih-count/:userId` - ุฅุฌูุงูู ุนุฏุฏ ุงูุชุณุจูุญุงุช

### Khatma
- `GET /api/khatma` - ุงูุญุตูู ุนูู ุจูุงูุงุช ุงูุฎุชูุฉ
- `PUT /api/khatma/:id` - ุชุญุฏูุซ ุงูุฎุชูุฉ

### Support Tickets
- `POST /api/tickets` - ุฅูุดุงุก ุชุฐูุฑุฉ ุฏุนู
- `GET /api/tickets` - ูุงุฆูุฉ ุงูุชุฐุงูุฑ
- `PUT /api/tickets/:id` - ุชุญุฏูุซ ุงูุชุฐูุฑุฉ

## ูุนูููุงุช ูุงูุฉ

### โ ูููุฒุงุช ุงููุธุงู ุงูุฌุฏูุฏ:
- โจ ุงูุจูุงูุงุช ุชูุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุนูู ุงูุฎุงุฏู
- ๐ ุชุฒุงูู ุงูุจูุงูุงุช ุจูู ุงููุณุชุฎุฏููู
- ๐พ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุงูุชููุงุฆูุฉ
- ๐ ุฃูุงู ุงูุจูุงูุงุช ุงูุฃูุถู
- ๐ ูุงุจููุฉ ุงูุชูุณุน

### ๐ ุงููุฌุฑุฉ ูู localStorage:
- ุงููุธุงู ุงูุญุงูู ูุญุชูุธ ุจู localStorage ููุณุฎุฉ ุงุญุชูุงุทูุฉ
- ููููู ุชูุนูู ุงูู API ุชุฏุฑูุฌูุงู ููู ููุฒุฉ
- ุงุณุชุฎุฏู `apiService` ุจุฏูุงู ูู `dbQueries` ูุจุงุดุฑุฉ

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: "Cannot connect to server"
```bash
# ุชุฃูุฏ ูู ุชุดุบูู ุงูู backend
cd server
npm run dev
```

### ุงููุดููุฉ: "CORS error"
โ ุชู ุญู ูุฐุง ุจุฅุถุงูุฉ cors middleware ูู ุงูุฎุงุฏู

### ุงููุดููุฉ: "Database locked"
- ุฌุฑุจ ุฅุบูุงู ุงูุฎุงุฏู ูุฅุนุงุฏุฉ ุชุดุบููู
- ุชุฃูุฏ ูู ุนุฏู ูุชุญ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ุฃูุซุฑ ูู ุนูููุฉ

## ุงูุฎุทูุงุช ุงููุงุฏูุฉ (ุงุฎุชูุงุฑูุฉ)

1. **ุฅุถุงูุฉ Authentication (JWT)**
   ```javascript
   // ุงุณุชุฎุฏู jsonwebtoken ููุฃูุงู ุงูุฃูุถู
   ```

2. **ูุดุฑ ุนูู ุงูุฅูุชุงุฌ**
   ```bash
   # Deploy backend ุนูู Heroku, Railway, Render, etc.
   # Deploy frontend ุนูู Netlify, Vercel, etc.
   ```

3. **ุฅุถุงูุฉ Database Cloud**
   - ุงุณุชุฎุฏุงู Firebase
   - ุฃู MongoDB Atlas
   - ุฃู PostgreSQL Cloud

---

**ุชู โ ุฑุจุท ุงูุชุทุจูู ุจู Backend ููุงุนุฏุฉ ุงูุจูุงูุงุช!**
